<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_topic">
    <sys_cb_topic action="INSERT_OR_UPDATE">
        <applicability/>
        <applicability_mode>query</applicability_mode>
        <autopilot_topic>false</autopilot_topic>
        <category>3efd22da0b203300a1b16c2367673a10</category>
        <channels/>
        <connect_queue/>
        <description>ITSM conversation for searching and submitting catalog items</description>
        <expose_on_palette>false</expose_on_palette>
        <flexible_conversation_switching>false</flexible_conversation_switching>
        <graph>{"graph_api_version":"1.0.39","variables":{"081c8f1803d844f9abc90ceb4104b472":{"id":"081c8f1803d844f9abc90ceb4104b472","name":"LiveAgent_application","value":{"mode":"simple","value":"itsm"},"varType":"script","label":"LiveAgent_application","category":"vaVars"},"169b92a959d94e0fa05fdf83851a623a":{"id":"169b92a959d94e0fa05fdf83851a623a","value":{"mode":"script","value":"(function execute() {\n    return gs.getProperty('glide.servlet.uri');\n})()\n"},"name":"baseUri","label":"baseUri","varType":"script","category":"vaVars"},"6354e8a3519d4626899c9c1c6b4936f4":{"id":"6354e8a3519d4626899c9c1c6b4936f4","value":{"mode":"script","value":"(function execute() {\n    if (vaContext.deviceType == 'ios' || vaContext.deviceType == 'android')\n        return 'mesp';\n\n    return gs.getProperty('sn_itsm_va.com.snc.itsm.virtualagent.portal_url');\n})()\n"},"name":"portalName","label":"portalName","varType":"script","category":"vaVars"},"0204301c61694916a8517a48e9a2c74b":{"id":"0204301c61694916a8517a48e9a2c74b","name":"search_catalogitem","label":"Search CatalogItem","varType":"string","category":"vaInputs","secure":false,"encryptionSalt":{"value":"MTYyNDI5NTQxMTYxMSBWQSBEZXNpZ25lciBpcyBhd2Vzb21l","mode":"simple"},"encryptionHashFunction":"SHA-256"},"de37dc52d30844bab7be6cf974b994a3":{"category":"vaInputs","id":"de37dc52d30844bab7be6cf974b994a3","label":"User","name":"user","table":"sys_user","varType":"reference"},"cc3543c73fb2421bb0eed9b648109661":{"id":"cc3543c73fb2421bb0eed9b648109661","name":"search_again","label":"Search Again","varType":"choice","choices":[{"label":"Yes","value":"0"},{"label":"No","value":"1","checked":true}],"category":"vaInputs"},"f5b84b173a284fdf82b63ce4339ea99c":{"id":"f5b84b173a284fdf82b63ce4339ea99c","name":"search_hardware","label":"Search Hardware","varType":"string","secure":false,"category":"vaInputs","encryptionHashFunction":"SHA-256","encryptionSalt":{"value":"MTYzMTY5MjI2Mzk0MCBWQSBEZXNpZ25lciBpcyBhd2Vzb21l","mode":"simple"}},"036539ff90bf4af6889862c4f51fb12c":{"id":"036539ff90bf4af6889862c4f51fb12c","value":{"mode":"simple","value":""},"name":"catalog_item_id","label":"catalog_item_id","varType":"script","category":"vaVars"},"41ccbf5803e14900bc2e7ad5d3e92d17":{"id":"41ccbf5803e14900bc2e7ad5d3e92d17","value":{"value":"","mode":"simple"},"name":"is_conversational","label":"is_conversational","varType":"script","category":"vaVars"},"aff6eb45ee21414eb268ea2c94d3b7c7":{"id":"aff6eb45ee21414eb268ea2c94d3b7c7","name":"search_software","label":"Search Software","varType":"string","secure":false,"category":"vaInputs","encryptionHashFunction":"SHA-256","encryptionSalt":{"value":"MTYzNzA2MzQ1Mjg3MSBWQSBEZXNpZ25lciBpcyBhd2Vzb21l","mode":"simple"}},"e89e128d10e445f3a29678a374923003":{"id":"e89e128d10e445f3a29678a374923003","name":"search","label":"Search","varType":"string","secure":false,"category":"vaInputs","encryptionHashFunction":"SHA-256","encryptionSalt":{"value":"MTYzNzA2MzQ2NjM1NyBWQSBEZXNpZ25lciBpcyBhd2Vzb21l","mode":"simple"}},"c317c75376444de5a82bbcfffdad79c4":{"id":"c317c75376444de5a82bbcfffdad79c4","value":{"value":"","mode":"simple"},"name":"search_catalogitem","label":"search_catalogitem","varType":"script","category":"vaVars"},"96dda388c40f47c987e9b943f250b6b3":{"id":"96dda388c40f47c987e9b943f250b6b3","value":{"value":"","mode":"simple"},"name":"search_hardware","label":"search_hardware","varType":"script","category":"vaVars"},"2aba426d5406442d94bd1b21a90f3b5a":{"id":"2aba426d5406442d94bd1b21a90f3b5a","value":{"value":"","mode":"simple"},"name":"search_software","label":"search_software","varType":"script","category":"vaVars"},"5ed3e6628cc84f27818dcc9b115713d8":{"id":"5ed3e6628cc84f27818dcc9b115713d8","value":{"mode":"simple","value":"false"},"name":"search_again","label":"search_again","varType":"script","category":"vaVars"},"f0bdcb25a8d14ea1937b9114364dd33f":{"id":"f0bdcb25a8d14ea1937b9114364dd33f","value":{"mode":"simple","value":"false"},"name":"hardware_software_entity_searched","label":"hardware_software_entity_searched","varType":"script","category":"vaVars"},"61532fe657ff4c3093846725e5fd840d":{"id":"61532fe657ff4c3093846725e5fd840d","value":{"mode":"simple","value":"false"},"name":"query_search","label":"query_search","varType":"script","category":"vaVars"},"d04af5d8054e402093aff9d73037a2c6":{"id":"d04af5d8054e402093aff9d73037a2c6","value":{"value":"","mode":"simple"},"name":"image","label":"image","varType":"script","category":"vaVars"},"eb895fcb9aa748539b7e43c7696f1526":{"id":"eb895fcb9aa748539b7e43c7696f1526","value":{"value":"","mode":"simple"},"name":"item_title","label":"item_title","varType":"script","category":"vaVars"},"c85969e3feec4ca7949e294a70c8a52d":{"id":"c85969e3feec4ca7949e294a70c8a52d","value":{"value":"","mode":"simple"},"name":"itemJSON","label":"itemJSON","varType":"script","category":"vaVars"},"162bf4d9f4c4466aab890f65383c6694":{"id":"162bf4d9f4c4466aab890f65383c6694","name":"record_id","label":"Record_id","defaultValue":"record_id","varType":"string","category":"vaInputs","metadata":{"libraryMappingType":"output"},"preventDisable":true},"7c7aae8ff1324ba884f4a78d97eca5c6":{"id":"7c7aae8ff1324ba884f4a78d97eca5c6","name":"record_table","label":"Record_table","defaultValue":"record_table","varType":"string","category":"vaInputs","metadata":{"libraryMappingType":"output"},"preventDisable":true},"8138c0feb44349ccbd9095b0553c419f":{"id":"8138c0feb44349ccbd9095b0553c419f","name":"variables","label":"Variables","defaultValue":"variables","varType":"string","category":"vaInputs","metadata":{"libraryMappingType":"output"},"preventDisable":false},"d5950c4baaad49bfa3f93e76b98e88f9":{"id":"d5950c4baaad49bfa3f93e76b98e88f9","value":{"value":"","mode":"simple"},"name":"search","label":"search","varType":"script","category":"vaVars"},"6fc482b30e7f4f5eb6b8c415e5d86bdc":{"id":"6fc482b30e7f4f5eb6b8c415e5d86bdc","value":{"mode":"simple","value":"false"},"name":"direct_search","label":"direct_search","varType":"script","category":"vaVars"},"aafb9e7c4a0e458eaf2bf5132cc7e22b":{"id":"aafb9e7c4a0e458eaf2bf5132cc7e22b","name":"catalog_item_id","label":"Catalog_item_id","defaultValue":"catalog_item_id","varType":"string","category":"vaInputs","metadata":{"libraryMappingType":"output"},"preventDisable":true},"e07e89e3884449e1a020e96fa2c4eb4a":{"id":"e07e89e3884449e1a020e96fa2c4eb4a","name":"item_type","label":"Item_type","defaultValue":"item_type","varType":"string","category":"vaInputs","metadata":{"libraryMappingType":"output"},"preventDisable":false},"5d24ab0b9c38468f8ecc772d1236d28d":{"id":"5d24ab0b9c38468f8ecc772d1236d28d","name":"is_conversational","label":"Is_conversational","defaultValue":"is_conversational","varType":"string","category":"vaInputs","metadata":{"libraryMappingType":"output"},"preventDisable":true},"5d6516250d6c46bca088a9cc246823bc":{"id":"5d6516250d6c46bca088a9cc246823bc","value":{"mode":"simple","value":"false"},"name":"hardware_software_entity_mapped","label":"hardware_software_entity_mapped","varType":"script","category":"vaVars"},"64807dd564b2487889555a13f9a63ca2":{"id":"64807dd564b2487889555a13f9a63ca2","value":{"value":"","mode":"simple"},"name":"record_table","label":"record_table","varType":"script","category":"vaVars"},"e57d02948f914d3fa1534aaaac34f973":{"id":"e57d02948f914d3fa1534aaaac34f973","value":{"value":"","mode":"simple"},"name":"record_id","label":"record_id","varType":"script","category":"vaVars"},"c7843a3e25b24f71b5b719ab318a8af3":{"id":"c7843a3e25b24f71b5b719ab318a8af3","value":{"value":"","mode":"simple"},"name":"recordLink","label":"recordLink","varType":"script","category":"vaVars"},"e40a2fa70b87412f9f837e4dbb6c35c0":{"id":"e40a2fa70b87412f9f837e4dbb6c35c0","value":{"mode":"simple","value":""},"name":"isTaskBasedTable","label":"isTaskBasedTable","varType":"script","category":"vaVars"},"5c37f171f7bb4ed3835d5209d2e53255":{"id":"5c37f171f7bb4ed3835d5209d2e53255","value":{"mode":"simple","value":"true"},"name":"image_not_shown","label":"image_not_shown","varType":"script","category":"vaVars"}},"goals":{"primary":{"id":"primary","trigger":{"type":"primary"},"name":"primary","applicability":"","description":"","nodes":{"c341d40a7a45424b924e070cff1ca1c8":{"id":"c341d40a7a45424b924e070cff1ca1c8","stepType":"Start","name":"Start","greetingResponse":{"mode":"simple","value":""},"applicability":{"mode":"query","value":""}},"e4531db5ed544e01860704da8ab890e9":{"id":"e4531db5ed544e01860704da8ab890e9","stepType":"TerminateGoal","name":"End","confirmationMessage":{"mode":"simple","value":""},"applicability":{"mode":"query","value":""}},"1b8d23204d934010b4e90dd1e081fb28":{"id":"1b8d23204d934010b4e90dd1e081fb28","stepType":"ReusableTopic","name":"Search Catalog Item","fields":[],"reusableTopicChoice":"Search Catalog Item","reusableTopicId":"ccaacd71c3a3330012d1758a7ff57ecd","inputs":{"catalogs":{"value":"(function execute() {\n    function getCatalogM2M(portalId) {\n        var gr = new GlideRecord('m2m_sp_portal_catalog');\n        if (gr.isValid()) {\n            gr.addActiveQuery();\n            gr.addQuery('sp_portal', portalId);\n            gr.addQuery('sc_catalog.active', true);\n            gr.orderBy('order');\n            gr.orderBy('sc_catalog.active');\n        }\n        else {\n            gr = new GlideRecord('sp_portal');\n            gr.addQuery('sys_id', portalId);\n        }\n        gr.setWorkflow(false)\n        gr.query();\n        return gr;\n    }\n    var suffix = vaVars.portalName;\n    if (suffix) {\n        var catalogs = \"\";\n        var gr = new GlideRecord('sp_portal');\n        gr.addQuery('url_suffix', suffix);\n        gr.setWorkflow(false)\n        gr.query();\n        gr.next();\n        var portalId = gr.getUniqueValue();\n        vaVars.portalId = portalId;\n        var m2mGR = getCatalogM2M(portalId);\n        if (m2mGR.getRowCount() &gt; 0) {\n            m2mGR.next();\n            catalogs += m2mGR.getValue('sc_catalog');\n            while (m2mGR.next()) {\n                catalogs += ',';\n                catalogs += m2mGR.getValue('sc_catalog')\n\n            }\n        }\n        return catalogs;\n    }\n    return '';\n})()\n","mode":"script","type":"String"},"query_term":{"value":"(function execute() {\n    if (vaVars.search_catalogitem != '' &amp;&amp; !vaVars.search_again)\n        return vaVars.search_catalogitem\n\n    if (vaVars.search_hardware != '')\n        return vaVars.search_hardware\n    else if (vaVars.search_software != '')\n        return vaVars.search_software\n    else if (vaInputs.search != '')\n        return vaInputs.search\n\n})()\n","mode":"script","type":"String"},"result_limit":{"value":[{"type":"paragraph","children":[{"text":""},{"text":"5"},{"text":""}]}],"mode":"simple","type":"String"}},"outputs":[{"id":"aafb9e7c4a0e458eaf2bf5132cc7e22b","value":"catalog_item_id","mapping":"catalog_item_id","preventDisable":true},{"id":"e07e89e3884449e1a020e96fa2c4eb4a","value":"item_type","mapping":"item_type","preventDisable":false},{"id":"5d24ab0b9c38468f8ecc772d1236d28d","value":"is_conversational","mapping":"is_conversational","preventDisable":true}],"variableIds":["aafb9e7c4a0e458eaf2bf5132cc7e22b","e07e89e3884449e1a020e96fa2c4eb4a","5d24ab0b9c38468f8ecc772d1236d28d"],"outdatedNote":false,"applicability":{"mode":"script","value":"(function execute() {\n    return vaVars.search_again || !vaVars.catalog_item_id;\n})()\n"},"loading":false},"981838774b06436ea11f9d4c351b94b3":{"id":"981838774b06436ea11f9d4c351b94b3","stepType":"Decision","name":"Decision"},"0890f935bc2b415d85837b98a3f62f46":{"id":"0890f935bc2b415d85837b98a3f62f46","stepType":"TextOutput","name":"Try Again","value":{"value":[{"type":"paragraph","children":[{"text":"OK, let's try again."}]}],"mode":"simple"},"applicability":{"value":"","mode":"query"},"secure":false},"3a2b2f0edb324b48ba3814fe71844acd":{"id":"3a2b2f0edb324b48ba3814fe71844acd","stepType":"Decision","name":"Decision"},"b8ce83e5abc54f2cbd93756fe601184e":{"id":"b8ce83e5abc54f2cbd93756fe601184e","stepType":"LinkOutput","name":"Link Output","url":{"value":"(function execute() {\n    var item = new sn_sc.CatItem(vaInputs.catalog_item_id);\n\n    if (item &amp;&amp; item.getRecordClass() === \"sc_cat_item_guide\")\n        return vaVars.baseUri + vaVars.portalName + '?id=sc_cat_item_guide&amp;sys_id=' + vaInputs.catalog_item_id + '&amp;referrer=va';\n    \n    return vaVars.baseUri + vaVars.portalName + '?id=sc_cat_item&amp;sys_id=' + vaInputs.catalog_item_id + '&amp;referrer=va';\n})()","mode":"script"},"label":{"value":"(function execute() {\n    var item = new sn_sc.CatItem(vaInputs.catalog_item_id);\n    if (item) {\n        var catItemJson = item.read({\n            'name' : ''\n        }, false);\n        return catItemJson.name || '';\n    }\n    return '';\n})()\n","mode":"script"},"header":{"value":[{"type":"paragraph","children":[{"text":"Use the link below to submit your request:"}]}],"mode":"simple"},"applicability":{"mode":"script","value":"(function execute() {\n    /* Return true or false to indicate if the topic or topic node can run\n       and be discoverable (or not).  For example:\n\n       var applicability = vaInputs.first_name == 'Bill' ? true : false;\n       return applicability;\n    */\n    return vaInputs.catalog_item_id != '-1';\n})()\n"},"linkType":"single","introMsg":{"value":"","mode":"simple"},"listOfLinks":""},"871ea778dba1439a84d4bab99cb20d2c":{"id":"871ea778dba1439a84d4bab99cb20d2c","stepType":"ReusableTopic","name":"Request Catalog Item","fields":[],"reusableTopicChoice":"Request Catalog Item","reusableTopicId":"a39acd71c3a3330012d1758a7ff57eb6","inputs":{"catalog_item_id":{"value":"(function execute() {\n\n    if (vaVars.catalog_item_id == '') {\n        return vaInputs.catalog_item_id.toString()\n    }\n\n    else\n        return vaVars.catalog_item_id.toString();\n\n})()\n","mode":"script","type":"String"},"execute_contextual_search":{"value":[{"type":"paragraph","children":[{"text":""},{"text":"false"},{"text":""}]}],"mode":"simple","type":"String"},"confirm_catalog_item":{"value":[{"type":"paragraph","children":[{"text":""},{"text":"true"},{"text":""}]}],"mode":"simple","type":"String"}},"outputs":[{"id":"162bf4d9f4c4466aab890f65383c6694","value":"record_id","mapping":"record_id","preventDisable":true},{"id":"7c7aae8ff1324ba884f4a78d97eca5c6","value":"record_table","mapping":"record_table","preventDisable":true},{"id":"8138c0feb44349ccbd9095b0553c419f","value":"variables","mapping":"variables","preventDisable":false}],"variableIds":["162bf4d9f4c4466aab890f65383c6694","7c7aae8ff1324ba884f4a78d97eca5c6","8138c0feb44349ccbd9095b0553c419f"],"outdatedNote":false,"applicability":{"value":"","mode":"query"},"loading":false},"f43db30c0a1f49c599bd4195e7315ab3":{"id":"f43db30c0a1f49c599bd4195e7315ab3","stepType":"Decision","name":"Decision"},"a7443a2069f545b1a82cf0ae123e9059":{"id":"a7443a2069f545b1a82cf0ae123e9059","stepType":"TextOutput","name":"Request Complete Message","value":{"value":[{"type":"paragraph","children":[{"text":""},{"text":"Your request has been submitted. Here are the details:"},{"text":""}]}],"mode":"simple"},"applicability":{"value":"","mode":"query"},"secure":false},"bd73be26661347c1ba5ce5d36f047a14":{"id":"bd73be26661347c1ba5ce5d36f047a14","stepType":"Decision","name":"Decision"},"686cd9fc68b349c98063774fa874759e":{"stepType":"ChoicePrompt","name":"Search Again","prompt":{"value":[{"type":"paragraph","children":[{"text":"Would you like to keep searching?"}]}],"mode":"simple"},"confirmMessage":{"value":"","mode":"simple"},"acknowledgeMsg":{"value":"","mode":"simple"},"applicability":{"mode":"script","value":"(function execute() {\n       return !vaVars.query_search;\n})()\n"},"optional":false,"defaultValue":{"value":"","mode":"simple"},"variableId":"cc3543c73fb2421bb0eed9b648109661","id":"686cd9fc68b349c98063774fa874759e","withNluUserInput":true,"skipIfFulfilled":true,"entity":{"id":"","label":""},"skippable":{"value":"","mode":"query"},"cardMetadata":{"mode":"card","metadataScript":"","cardTemplate":"","cardFields":{},"cardDefinition":{}},"hasCardHeader":false},"9be0645ce58f4efb9d687265ab36681b":{"id":"9be0645ce58f4efb9d687265ab36681b","stepType":"TextOutput","name":"Item not found","value":{"value":[{"type":"paragraph","children":[{"text":""},{"text":"I couldn't find any item that matches your search query"},{"text":""}]}],"mode":"simple"},"applicability":{"value":"","mode":"query"},"secure":false},"0c13f6f79a5743979906b9e91cc2a597":{"id":"0c13f6f79a5743979906b9e91cc2a597","stepType":"Component","name":"No Deflection","fields":[],"reusableTopicId":"7fb4ca055303201033cdddeeff7b12b3","reusableTopicChoice":"Deflection","sourceType":"TOPIC_BLOCK","loading":false,"applicability":{"value":"","mode":"query"},"inputs":{"deflection_configuration":{"value":"5292005253213010000dddeeff7b126c","mode":"string","type":"Reference","table":"ssa_deflection_configuration"},"deflection_pattern":{"value":"9ee3409253213010000dddeeff7b123b","mode":"string","type":"Reference","table":"ssa_deflection_pattern"},"activity_table":{"value":"","mode":"simple","type":"String"},"activity_ids":{"value":"","mode":"simple","type":"String"}},"outputs":[],"outdatedNote":false,"variableIds":[]},"2926bdb7d95d43739e4354c09e45f71b":{"id":"2926bdb7d95d43739e4354c09e45f71b","stepType":"Component","name":"Deflection: Request Complete","fields":[],"reusableTopicId":"7fb4ca055303201033cdddeeff7b12b3","reusableTopicChoice":"Deflection","sourceType":"TOPIC_BLOCK","loading":false,"applicability":{"value":"","mode":"query"},"inputs":{"deflection_configuration":{"value":"5292005253213010000dddeeff7b126c","mode":"string","type":"Reference","table":"ssa_deflection_configuration"},"deflection_pattern":{"value":"f063885253213010000dddeeff7b1221","mode":"string","type":"Reference","table":"ssa_deflection_pattern"},"activity_table":{"value":[{"type":"paragraph","children":[{"text":""},{"type":"datapill","dataPill":{"value":"{{vaInputs.record_table}}","displayValue":"Input Variables➛Record_table"},"children":[{"text":""}]},{"text":""}]}],"mode":"string","type":"String"},"activity_ids":{"value":[{"type":"paragraph","children":[{"text":""},{"type":"datapill","dataPill":{"value":"{{vaInputs.record_id}}","displayValue":"Input Variables➛Record_id"},"children":[{"text":""}]},{"text":""}]}],"mode":"string","type":"String"}},"outputs":[],"outdatedNote":false,"variableIds":[]},"4a71c302b7954640b352deece303e212":{"id":"4a71c302b7954640b352deece303e212","stepType":"Component","name":"Deflection: Link Provided","fields":[],"reusableTopicId":"7fb4ca055303201033cdddeeff7b12b3","reusableTopicChoice":"Deflection","sourceType":"TOPIC_BLOCK","loading":false,"applicability":{"mode":"script","value":"(function execute() {\n    /* Return true or false to indicate if the topic or topic node can run\n       and be discoverable (or not).  For example:\n\n       var applicability = vaInputs.first_name == 'Bill' ? true : false;\n       return applicability;\n    */\n    return vaInputs.catalog_item_id != '-1';\n})()\n"},"inputs":{"deflection_configuration":{"value":"5292005253213010000dddeeff7b126c","mode":"string","type":"Reference","table":"ssa_deflection_configuration"},"deflection_pattern":{"value":"6eb34c5253213010000dddeeff7b12be","mode":"string","type":"Reference","table":"ssa_deflection_pattern"},"activity_table":{"value":"","mode":"simple","type":"String"},"activity_ids":{"value":"","mode":"simple","type":"String"}},"outputs":[],"outdatedNote":false,"variableIds":[]},"e95caffbcfb8407ab4dc1e05ddc3bd51":{"id":"e95caffbcfb8407ab4dc1e05ddc3bd51","name":"Set search term","script":"(function execute() {\n\n    vaVars.search = vaInputs.search.toString();\n    vaVars.search_catalogitem = vaInputs.search_catalogitem;\n    vaVars.search_hardware = vaInputs.search_hardware;\n    vaVars.search_software = vaInputs.search_software;\n\n    if (vaInputs.search != ''){\n        vaVars.direct_search = true;\n        return;\n    }\n        \n\n    if (vaContext.getRequesterLang() == 'en') {\n        var gr = new GlideRecord('sc_cat_item');\n        gr.addActiveQuery();\n        gr.addQuery('name', vaInputs.search_catalogitem);\n        gr.query();\n\n        while (gr.next()) {\n            vaVars.catalog_item_id = gr.getValue('sys_id');\n            vaInputs.catalog_item_id = vaVars.catalog_item_id;\n        }\n        \n    } else {\n\n        var gr = new GlideRecord('sys_translated_text');\n        \n        gr.addQuery('value', vaInputs.search_catalogitem);\n        gr.addQuery('tablename', 'sc_cat_item');\n        gr.addQuery('language', vaContext.getRequesterLang())\n        gr.addQuery('fieldname', 'name')\n        gr.query();\n\n        while (gr.next()) {\n            var gr2 = new GlideRecord('sc_cat_item');\n            gr2.addActiveQuery();\n            gr2.addQuery('sys_id', gr.getValue('documentkey'));\n            gr2.query();\n            if (gr2.next()) {\n                vaVars.catalog_item_id = gr.getValue('documentkey');\n                vaInputs.catalog_item_id = vaVars.catalog_item_id;\n            }\n        }\n    }\n\n    if (vaVars.search_catalogitem != null) {\n        if (vaVars.search_hardware == '' &amp;&amp; vaVars.search_software == '')\n            vaVars.hardware_software_entity_mapped = false;\n\n        else\n            vaVars.hardware_software_entity_mapped = true;\n    }\n})()\n","stepType":"ScriptAction","applicability":{"mode":"query","value":""}},"d5f0471fede341d88414634a9ca5fd3f":{"id":"d5f0471fede341d88414634a9ca5fd3f","stepType":"ScriptOutput","name":"Submitted Request Record","output_type":"single_part","script":"(function execute() {\n    \n    var title = '';\n    var subtitle = '';\n    var fields = [];\n\n    var gr = new GlideRecord(vaVars.record_table);\n    gr.addQuery('sys_id',vaVars.record_id);\n    gr.query();\n    title = gr.getClassDisplayValue();\n    if(gr.next()){\n        subtitle = gr.getValue('task_effective_number').toString();\n        if (gr.isValidField('short_description')) {\n            fields.push({\n                \"fieldLabel\": gr.getElement('short_description').getLabel(),\n                \"fieldValue\": gr.getDisplayValue('short_description').toString()\n            });\n        }\n        if (gr.isValidField('state')) {\n            fields.push({\n                \"fieldLabel\": gr.getElement('state').getLabel(),\n                \"fieldValue\": gr.getDisplayValue('state').toString()\n            });\n        }\n    }\n    \n    var card_data = JSON.stringify({\n            \"title\":title,\n            \"subtitle\":subtitle,\n            \"fields\":fields,\n            \"url\":vaVars.recordLink.toString()\n      });\n    return vaSystem.renderCard(\"Card\", card_data); \n})()\n","applicability":{"value":"","mode":"query"}},"829bc48de39b4a7baf7a09979fbd25b2":{"id":"829bc48de39b4a7baf7a09979fbd25b2","name":"Check if Item is supported by VA?","script":"(function execute() {\n    vaVars.catalog_item_id = vaInputs.catalog_item_id;\n    vaVars.is_conversational = new sn_sc.CatalogConversationHelper().hasVASupport(vaVars.catalog_item_id.toString());\n    vaInputs.is_conversational = vaVars.is_conversational;\n})()\n","stepType":"ScriptAction","applicability":{"value":"","mode":"query"}},"3235eedf258c4ac39307aa054ccb9169":{"id":"3235eedf258c4ac39307aa054ccb9169","stepType":"Prompt","name":"Search","prompt":{"value":[{"type":"paragraph","children":[{"text":"What are you looking for?"}]}],"mode":"simple"},"confirmMessage":{"value":"","mode":"simple"},"acknowledgeMsg":{"value":"","mode":"simple"},"applicability":{"value":"vaInputs.search_catalogitemISEMPTY^vaInputs.search_hardwareISEMPTY^vaInputs.search_softwareISEMPTY^vaInputs.NQsearch_againISNOTEMPTY","mode":"query"},"skippable":{"value":"","mode":"query"},"defaultValue":{"value":"","mode":"simple"},"withNluUserInput":false,"skipIfFulfilled":false,"variableId":"e89e128d10e445f3a29678a374923003","inputType":{"format":"Text","script":""}},"c5d2c0475905454390181c073253276e":{"id":"c5d2c0475905454390181c073253276e","stepType":"Prompt","name":"Search Software","prompt":{"value":[{"type":"paragraph","children":[{"text":"What are you looking for?"}]}],"mode":"simple"},"confirmMessage":{"value":"","mode":"simple"},"acknowledgeMsg":{"value":"","mode":"simple"},"applicability":{"mode":"script","value":"(function execute() {\n    /* Return true or false to indicate if the topic or topic node can run\n       and be discoverable (or not).  For example:\n\n       var applicability = vaInputs.first_name == 'Bill' ? true : false;\n       return applicability;\n    */\n    return false;\n})()\n"},"skippable":{"mode":"query","value":""},"defaultValue":{"value":"","mode":"simple"},"withNluUserInput":true,"skipIfFulfilled":true,"variableId":"aff6eb45ee21414eb268ea2c94d3b7c7","inputType":{"format":"Text","script":""}},"9bec0c5d8caa45ecb8038a1868de930e":{"id":"9bec0c5d8caa45ecb8038a1868de930e","stepType":"Prompt","name":"Search Hardware","prompt":{"value":[{"type":"paragraph","children":[{"text":"What are you looking for?"}]}],"mode":"simple"},"confirmMessage":{"value":"","mode":"simple"},"acknowledgeMsg":{"value":"","mode":"simple"},"applicability":{"mode":"script","value":"(function execute() {\n    /* Return true or false to indicate if the topic or topic node can run\n       and be discoverable (or not).  For example:\n\n       var applicability = vaInputs.first_name == 'Bill' ? true : false;\n       return applicability;\n    */\n    return false;\n})()\n"},"skippable":{"mode":"query","value":""},"defaultValue":{"value":"","mode":"simple"},"withNluUserInput":true,"skipIfFulfilled":true,"variableId":"f5b84b173a284fdf82b63ce4339ea99c","inputType":{"format":"Text","script":""}},"4cfe228d05ab4f89b068f5121344b13a":{"id":"4cfe228d05ab4f89b068f5121344b13a","stepType":"Prompt","name":"Search CatalogItem","prompt":{"value":[{"type":"paragraph","children":[{"text":""},{"text":"What are you looking for?"},{"text":""}]}],"mode":"simple"},"confirmMessage":{"value":"","mode":"simple"},"acknowledgeMsg":{"value":"","mode":"simple"},"applicability":{"mode":"script","value":"(function execute() {\n    /* Return true or false to indicate if the topic or topic node can run\n       and be discoverable (or not).  For example:\n\n       var applicability = vaInputs.first_name == 'Bill' ? true : false;\n       return applicability;\n    */\n    return false;\n})()\n"},"optional":false,"defaultValue":{"value":"","mode":"simple"},"withNluUserInput":true,"skipIfFulfilled":true,"entity":{"id":"","label":""},"variableId":"0204301c61694916a8517a48e9a2c74b","skippable":{"value":"","mode":"query"},"inputType":{"format":"Text","script":""}},"91fd64ff9b2e4ddeb638032677ff8bed":{"id":"91fd64ff9b2e4ddeb638032677ff8bed","name":"Set variables","script":"(function execute() {\n  vaVars.search_again = true;\n  vaVars.catalog_item_id = '';\n  vaInputs.catalog_item_id = '';\n})()\n","stepType":"ScriptAction","applicability":{"value":"","mode":"query"}},"5ba503d9b04b4bb3b4b605d25ca7ca0d":{"id":"5ba503d9b04b4bb3b4b605d25ca7ca0d","stepType":"Decision","name":"Decision"},"af7dc3e59f8a488cb26404ab5a8d5715":{"id":"af7dc3e59f8a488cb26404ab5a8d5715","name":"Hardware/Software Search","script":"(function execute() {\n    vaVars.hardware_software_entity_searched = true;\n})()\n","stepType":"ScriptAction","applicability":{"value":"","mode":"query"}},"d3af6f10c3ae4832b858cf3ad3baa196":{"id":"d3af6f10c3ae4832b858cf3ad3baa196","name":"Set variables","script":"(function execute() {\n    vaInputs.search_catalogitem = '';\n    vaInputs.search_hardware = '';\n    vaInputs.search_software = '';\n    vaVars.search_catalogitem = '';\n    vaVars.search_hardware = '';\n    vaVars.search_software = '';\n    vaInputs.catalog_item_id = '';\n    vaVars.catalog_item_id = '';\n    vaVars.query_search = true;\n})()\n","stepType":"ScriptAction","applicability":{"value":"","mode":"query"}},"97e6dc6f8be74729bd62df715a1c4f77":{"id":"97e6dc6f8be74729bd62df715a1c4f77","stepType":"Decision","name":"Query search?"},"2281bc9e6a1c445a83870fda11ccb186":{"id":"2281bc9e6a1c445a83870fda11ccb186","name":"Get Catalog item details","script":"(function execute() {\n    \n    var catItemObj = new sn_sc.CatItem(vaVars.catalog_item_id);\n    var catItemJson = catItemObj.getItemSummary(false, 'basic');\n    vaVars.image = catItemJson.picture;\n    vaVars.item_title = catItemJson.name;\n\n    var itemJSON = new sn_sc.CatalogConversationHelper().getItem(vaVars.catalog_item_id);\n    vaVars.itemJSON = JSON.stringify(itemJSON);\n})()\n","stepType":"ScriptAction","applicability":{"mode":"script","value":"(function execute() {\n    /* Return true or false to indicate if the topic or topic node can run\n       and be discoverable (or not).  For example:\n\n       var applicability = vaInputs.first_name == 'Bill' ? true : false;\n       return applicability;\n    */\n    return vaVars.catalog_item_id != '' || vaInputs.catalog_item_id != '';\n})()\n"}},"e23f8460fbf74cdbaa16ac6ac4eb733b":{"id":"e23f8460fbf74cdbaa16ac6ac4eb733b","stepType":"TextOutput","name":"Description","secure":false,"value":{"value":"(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    if (!gs.nil(itemJson.description))\n        return gs.getMessage(\"Here are some more details about {0}{1}\", [vaVars.item_title, itemJson.description]);\n})()\n","mode":"script"},"applicability":{"mode":"script","value":"(function execute() {\n    return vaInputs.catalog_item_id  != '-1';\n})()\n"}},"4280eeda029e44e291837e6563c17cc3":{"id":"4280eeda029e44e291837e6563c17cc3","stepType":"TextOutput","name":"Not found","secure":false,"value":{"value":"(function execute() {\n    if (vaVars.query_search)\n        return gs.getMessage(\"I'm sorry, I wasn't able to find anything that matches this request, but your questions are helping me learn.\");\n    else\n        return gs.getMessage(\"I'm sorry, I wasn't able to find anything that matches this request.\");\n})()\n","mode":"script"},"applicability":{"mode":"query","value":""}},"6a4bd72cee624815808fed939adf8674":{"id":"6a4bd72cee624815808fed939adf8674","stepType":"ImageOutput","name":"Image","url":{"value":"(function execute() {\n    /* Return a quoted string.  For example:\n\n       if (vaInputs.first_name == 'Bill') {\n           return gs.getMessageLang(\"hi there {0}\", vaContext.getRequesterLang(), [vaInputs.first_name]);\n       } else {\n           return gs.getMessageLang(\"how are you {0}\", vaContext.getRequesterLang(), [vaInputs.last_name]);\n       }\n    */\n    return vaVars.baseUri + vaVars.image;\n})()\n","mode":"script"},"altText":{"value":"","mode":"simple"},"variableId":"","applicability":{"mode":"script","value":"(function execute() {\n\n    return vaVars.catalog_item_id != '' &amp;&amp; vaInputs.search == '' &amp;&amp; vaVars.image_not_shown;\n    \n})()\n"}},"2d0159197c884814a5a743a0d5589121":{"id":"2d0159197c884814a5a743a0d5589121","name":"Set catalog item variables","script":"(function execute() {\n    if(vaInputs.catalog_item_id == null &amp;&amp; vaVars.catalog_item_id != null)\n      vaInputs.catalog_item_id = vaVars.catalog_item_id;\n    else if(vaVars.catalog_item_id == null &amp;&amp; vaInputs.catalog_item_id != null)\n     vaVars.catalog_item_id = vaInputs.catalog_item_id;\n})()\n","stepType":"ScriptAction","applicability":{"value":"","mode":"query"}},"4859ce1bf6724bcebb7b927bba745fdc":{"id":"4859ce1bf6724bcebb7b927bba745fdc","stepType":"Decision","name":"Decision"},"e97fe3ef9f4c4a1e9af66d799d9addde":{"id":"e97fe3ef9f4c4a1e9af66d799d9addde","name":"Process end state details","script":"(function execute() {\n    var tableName = vaInputs.record_table.toString();\n    var recordId = vaInputs.record_id.toString();\n\n    vaVars.record_table = tableName;\n    vaVars.record_id = recordId;\n\n    var gr = new GlideRecord(tableName);\n    gr.addQuery('sys_id', recordId);\n    gr.query();\n\n    if (gr.next()) {\n        vaVars.isTaskBasedTable = !!(gr.parent != null &amp;&amp; gr.parent.getTableName() == 'task')\n    }\n\n\n    var pageId = 'form';\n    if (vaVars.isTaskBasedTable)\n        pageId = 'ticket';\n\n    var link = '';\n    var screenId = '';\n    if (vaVars.portalName === 'mesp') {\n        var mobileDLink = new global.MobileDeepLinkGenerator('request');\n        if (tableName == 'sc_req_item')\n            screenId = '7516f9d787232300e0ef0cf888cb0b4d';\n        else if (tableName == 'sc_request')\n            screenId = '276dd3edb79033001befcd58de11a9c7';\n        else if (tableName == 'incident')\n            screenId = 'ebb94d9c0f2033001befa68ca8767e4e';\n        else\n            screenId = 'd39eb2db87772300e0ef0cf888cb0bcb';\n\n        link = mobileDLink.getFormScreenLink(screenId, tableName, recordId);\n    } else\n        link = vaVars.baseUri + vaVars.portalName + \"?id=\" + pageId + \"&amp;table=\" + tableName + \"&amp;sys_id=\" + recordId;\n\n    vaVars.recordLink = link;\n})()\n","stepType":"ScriptAction","applicability":{"value":"","mode":"query"}},"51a2b92e0cd0454292825952ef1ee5d1":{"id":"51a2b92e0cd0454292825952ef1ee5d1","stepType":"Decision","name":"Decision"},"1ad067c7073b4a508d69d4c6541d6360":{"id":"1ad067c7073b4a508d69d4c6541d6360","stepType":"LinkOutput","name":"Submitted record link","url":{"value":[{"type":"paragraph","children":[{"text":""},{"type":"datapill","dataPill":{"value":"{{vaVars.recordLink}}","displayValue":"Script Variables➛recordLink"},"children":[{"text":""}]},{"text":""}]}],"mode":"simple"},"label":{"value":[{"type":"paragraph","children":[{"text":"Click here to view the created record"}]}],"mode":"simple"},"header":{"value":[{"type":"paragraph","children":[{"text":"Your request has been submitted"}]}],"mode":"simple"},"applicability":{"value":"","mode":"query"},"linkType":"single","introMsg":{"value":"","mode":"simple"},"listOfLinks":""},"fe724f3e88d44a738838359516dd2dee":{"id":"fe724f3e88d44a738838359516dd2dee","stepType":"ImageOutput","name":"Image","url":{"value":"(function execute() {\n    return vaVars.baseUri + vaVars.image.toString();\n})()\n","mode":"script"},"altText":{"value":"","mode":"simple"},"variableId":"","applicability":{"mode":"script","value":"(function execute() {\n    return vaInputs.search == '' &amp;&amp; vaVars.catalog_item_id != '' &amp;&amp; vaVars.image_not_shown;\n})()\n"}},"367db5db53224cef95a5b85183ca0ccb":{"id":"367db5db53224cef95a5b85183ca0ccb","name":"Set variables","script":"(function execute() {\n    vaVars.image_not_shown=false;\n})()\n","stepType":"ScriptAction","applicability":{"mode":"script","value":"(function execute() {\n\n    return vaVars.catalog_item_id != '' &amp;&amp; vaInputs.search == '';\n    \n})()\n"}},"1e664e67614946a7a43e8f2e209bdd3c":{"id":"1e664e67614946a7a43e8f2e209bdd3c","name":"Set variables","script":"(function execute() {\n    vaVars.image_not_shown=false;\n})()\n","stepType":"ScriptAction","applicability":{"mode":"script","value":"(function execute() {\n    return vaInputs.search == '' &amp;&amp; vaVars.catalog_item_id != '';\n})()\n"}}},"edges":[{"id":"f6e8c26b79df478cb4d3dc2b5a2019e1","edgeType":"Branch","source":"5ba503d9b04b4bb3b4b605d25ca7ca0d","target":"4859ce1bf6724bcebb7b927bba745fdc","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n    return !vaVars.hardware_software_entity_searched &amp;&amp; !vaVars.direct_search;\n})()\n"},"label":"No"},{"id":"b78bdeb579454b62b6e8d04f19cebb05","edgeType":"Branch","source":"5ba503d9b04b4bb3b4b605d25ca7ca0d","target":"d3af6f10c3ae4832b858cf3ad3baa196","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n    \n    return vaVars.direct_search || vaVars.hardware_software_entity_searched;\n})()\n"},"label":"Yes"},{"id":"93282bfda6c04022a3f4a046656909b8","edgeType":"Edge","source":"2d0159197c884814a5a743a0d5589121","target":"981838774b06436ea11f9d4c351b94b3","sourcePort":"","targetPort":""},{"id":"18fe4eaba8444497a1a1c21561ba6aa4","edgeType":"Branch","source":"981838774b06436ea11f9d4c351b94b3","target":"9be0645ce58f4efb9d687265ab36681b","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n    return vaInputs.catalog_item_id == '' || vaVars.catalog_item_id == null;\n})()\n"},"label":"Didn't recieve an itemID"},{"id":"97345c8c87ce4d6cb46f728089193311","edgeType":"Branch","source":"981838774b06436ea11f9d4c351b94b3","target":"829bc48de39b4a7baf7a09979fbd25b2","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n   \n   return (vaVars.catalog_item_id != null &amp;&amp; vaInputs.catalog_item_id != \"-1\");\n   \n})()\n"},"label":"Recieved an ItemID"},{"id":"53a23e0cea0848c1b490e65657b29180","edgeType":"Edge","source":"3235eedf258c4ac39307aa054ccb9169","target":"e95caffbcfb8407ab4dc1e05ddc3bd51","sourcePort":"","targetPort":""},{"id":"c86002cc64bd4b1f9b63b04a1facbed1","edgeType":"Branch","source":"3a2b2f0edb324b48ba3814fe71844acd","target":"6a4bd72cee624815808fed939adf8674","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n   \n        return (!vaVars.is_conversational || !vaInputs.is_conversational);\n\n})()\n"},"label":"Not Supported"},{"id":"51928244eb554ece8e59c904ca1c00fe","edgeType":"Edge","source":"829bc48de39b4a7baf7a09979fbd25b2","target":"2281bc9e6a1c445a83870fda11ccb186","sourcePort":"","targetPort":""},{"id":"58f9b8c1a9a94bf7926b329996207fd7","edgeType":"Edge","source":"2281bc9e6a1c445a83870fda11ccb186","target":"3a2b2f0edb324b48ba3814fe71844acd","sourcePort":"","targetPort":""},{"id":"45cadabe78d04b5faccc7815e7af704c","edgeType":"Branch","source":"981838774b06436ea11f9d4c351b94b3","target":"4280eeda029e44e291837e6563c17cc3","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n    return vaInputs.catalog_item_id == \"-1\";\n})()\n"},"label":"itemIid is -1"},{"id":"3600881fa8d146338b9cc524466680aa","edgeType":"Edge","source":"0c13f6f79a5743979906b9e91cc2a597","target":"e4531db5ed544e01860704da8ab890e9","sourcePort":"","targetPort":""},{"id":"5e5e735278844c18a12a551fc8b40d19","edgeType":"Edge","source":"d3af6f10c3ae4832b858cf3ad3baa196","target":"3235eedf258c4ac39307aa054ccb9169","sourcePort":"","targetPort":""},{"id":"c2527c3fc2604aaeb429300c0cd94724","edgeType":"Edge","source":"af7dc3e59f8a488cb26404ab5a8d5715","target":"1b8d23204d934010b4e90dd1e081fb28","sourcePort":"","targetPort":""},{"id":"a91634d3d79d4c0db0122bdd32177464","edgeType":"Edge","source":"871ea778dba1439a84d4bab99cb20d2c","target":"f43db30c0a1f49c599bd4195e7315ab3","sourcePort":"","targetPort":""},{"id":"0fe52a6e5f5b48269d110afeeccb38a2","edgeType":"Edge","source":"4a71c302b7954640b352deece303e212","target":"686cd9fc68b349c98063774fa874759e","sourcePort":"","targetPort":""},{"id":"75e3893774cf437d9fbd983d9319b482","edgeType":"Edge","source":"c5d2c0475905454390181c073253276e","target":"3235eedf258c4ac39307aa054ccb9169","sourcePort":"","targetPort":""},{"id":"0b897bfdb07a48e89646ff4be95b6e39","edgeType":"Edge","source":"9bec0c5d8caa45ecb8038a1868de930e","target":"c5d2c0475905454390181c073253276e","sourcePort":"","targetPort":""},{"id":"8e06c73175364d3aad1fe42eb1cfcd50","edgeType":"Edge","source":"e95caffbcfb8407ab4dc1e05ddc3bd51","target":"1b8d23204d934010b4e90dd1e081fb28","sourcePort":"","targetPort":""},{"id":"e596e7dace1442ce97b14ff9e919ceeb","edgeType":"Branch","source":"f43db30c0a1f49c599bd4195e7315ab3","target":"686cd9fc68b349c98063774fa874759e","sourcePort":"","targetPort":"","expression":{"value":"record_idEMPTYSTRING","mode":"query"},"label":"Catalog Request Not Complete"},{"id":"df6f314bd0844dc8a7b06555b2649ac5","edgeType":"Edge","source":"d5f0471fede341d88414634a9ca5fd3f","target":"2926bdb7d95d43739e4354c09e45f71b","sourcePort":"","targetPort":""},{"id":"2723c09801af4f62bfb1d5525afe2831","edgeType":"Branch","source":"f43db30c0a1f49c599bd4195e7315ab3","target":"b8ce83e5abc54f2cbd93756fe601184e","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n    return !!vaInputs.record_id.getValue() &amp;&amp; vaInputs.record_id.getValue() == '-1';\n})()\n"},"label":"Item has no VA Support"},{"id":"07e243a9dc5442cd883980a23030b4e6","edgeType":"Edge","source":"686cd9fc68b349c98063774fa874759e","target":"bd73be26661347c1ba5ce5d36f047a14","sourcePort":"","targetPort":""},{"id":"f6f06bcd18134f0ea92a56958c888eb3","edgeType":"Edge","source":"9be0645ce58f4efb9d687265ab36681b","target":"686cd9fc68b349c98063774fa874759e","sourcePort":"","targetPort":""},{"id":"6a559de693e8439fb5f6afbc67b5a7b8","edgeType":"Branch","source":"bd73be26661347c1ba5ce5d36f047a14","target":"0c13f6f79a5743979906b9e91cc2a597","sourcePort":"","targetPort":"","expression":{"value":"vaInputs.search_again=1","mode":"query"},"label":"No"},{"id":"fe5a02640dbb4cac858498b5e9645bbc","edgeType":"Edge","source":"2926bdb7d95d43739e4354c09e45f71b","target":"e4531db5ed544e01860704da8ab890e9","sourcePort":"","targetPort":""},{"id":"7bfa21e97bd445fca5830258312f7486","edgeType":"Edge","source":"b8ce83e5abc54f2cbd93756fe601184e","target":"4a71c302b7954640b352deece303e212","sourcePort":"","targetPort":""},{"id":"a0e36e22f70a4279b09e3e42dac5d3c7","edgeType":"Edge","source":"a7443a2069f545b1a82cf0ae123e9059","target":"d5f0471fede341d88414634a9ca5fd3f","sourcePort":"","targetPort":""},{"id":"6054496ae58b407fa72402ccf46c0a25","edgeType":"Edge","source":"c341d40a7a45424b924e070cff1ca1c8","target":"4cfe228d05ab4f89b068f5121344b13a","sourcePort":"","targetPort":""},{"id":"c38ab76ee6c34761b8495ab549bf5dd8","edgeType":"Edge","source":"4cfe228d05ab4f89b068f5121344b13a","target":"9bec0c5d8caa45ecb8038a1868de930e","sourcePort":"","targetPort":""},{"id":"d944b98c2b1140dfac2d56f411ce61fd","edgeType":"Edge","source":"0890f935bc2b415d85837b98a3f62f46","target":"91fd64ff9b2e4ddeb638032677ff8bed","sourcePort":"","targetPort":""},{"id":"719f4e0ba02c4b578a16dae26d8bda15","edgeType":"Edge","source":"91fd64ff9b2e4ddeb638032677ff8bed","target":"5ba503d9b04b4bb3b4b605d25ca7ca0d","sourcePort":"","targetPort":""},{"id":"d6e4a79bebbe40f2a70a5cd770736d29","edgeType":"Branch","source":"bd73be26661347c1ba5ce5d36f047a14","target":"97e6dc6f8be74729bd62df715a1c4f77","sourcePort":"","targetPort":"","expression":{"value":"vaInputs.search_again=0","mode":"query"},"label":"Yes"},{"id":"9a50e3fa5b38449ea060f57d83efdbe3","edgeType":"Branch","source":"97e6dc6f8be74729bd62df715a1c4f77","target":"0890f935bc2b415d85837b98a3f62f46","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n    /* Return true or false to indicate the branch condition's applicability.\n       For example:\n\n       var applies = vaInputs.first_name == 'Bill' ? true : false;\n       return applies;\n    */\n    return !vaVars.query_search;\n})()\n"},"label":"No"},{"id":"09e883ee4efa411b8adf53479bf0da2a","edgeType":"Branch","source":"97e6dc6f8be74729bd62df715a1c4f77","target":"0c13f6f79a5743979906b9e91cc2a597","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n    /* Return true or false to indicate the branch condition's applicability.\n       For example:\n\n       var applies = vaInputs.first_name == 'Bill' ? true : false;\n       return applies;\n    */\n    return vaVars.query_search;\n})()\n"},"label":"Yes"},{"id":"c67f7a1274fc4c5690bb71b1562474ef","edgeType":"Edge","source":"e23f8460fbf74cdbaa16ac6ac4eb733b","target":"b8ce83e5abc54f2cbd93756fe601184e","sourcePort":"","targetPort":""},{"id":"80ffaa95e988426587ce8288ff39dfe2","edgeType":"Edge","source":"4280eeda029e44e291837e6563c17cc3","target":"686cd9fc68b349c98063774fa874759e","sourcePort":"","targetPort":""},{"id":"c45bcc37d0f84b1d9f53a8ee9190e9c5","edgeType":"Edge","source":"1b8d23204d934010b4e90dd1e081fb28","target":"2d0159197c884814a5a743a0d5589121","sourcePort":"","targetPort":""},{"id":"e158feb5a6a64f47852314bf9c175548","edgeType":"Branch","source":"4859ce1bf6724bcebb7b927bba745fdc","target":"af7dc3e59f8a488cb26404ab5a8d5715","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n    /* Return true or false to indicate the branch condition's applicability.\n       For example:\n\n       var applies = vaInputs.first_name == 'Bill' ? true : false;\n       return applies;\n    */\n    return vaVars.hardware_software_entity_mapped;\n})()\n"},"label":"Yes"},{"id":"c476e43aae4d41a399d5f07b988c8c8f","edgeType":"Branch","source":"4859ce1bf6724bcebb7b927bba745fdc","target":"d3af6f10c3ae4832b858cf3ad3baa196","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n    /* Return true or false to indicate the branch condition's applicability.\n       For example:\n\n       var applies = vaInputs.first_name == 'Bill' ? true : false;\n       return applies;\n    */\n    return !vaVars.hardware_software_entity_mapped;\n})()\n"},"label":"No"},{"id":"a64a2d8573284c73a10da279016d14a3","edgeType":"Branch","source":"f43db30c0a1f49c599bd4195e7315ab3","target":"e97fe3ef9f4c4a1e9af66d799d9addde","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n    return !!vaInputs.record_id.getValue() &amp;&amp; vaInputs.record_id.getValue() != '-1';\n})()\n"},"label":"Catalog Request Complete"},{"id":"e5ac371836b14a288f45e0f52bbea498","edgeType":"Edge","source":"e97fe3ef9f4c4a1e9af66d799d9addde","target":"51a2b92e0cd0454292825952ef1ee5d1","sourcePort":"","targetPort":""},{"id":"be3780dbdf6544308660bf63e61c2be1","edgeType":"Branch","source":"51a2b92e0cd0454292825952ef1ee5d1","target":"a7443a2069f545b1a82cf0ae123e9059","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n    return vaVars.isTaskBasedTable;\n})()\n"},"label":"Task based table"},{"id":"08d97d82948846f89c598850a5f39544","edgeType":"Branch","source":"51a2b92e0cd0454292825952ef1ee5d1","target":"1ad067c7073b4a508d69d4c6541d6360","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n    return !vaVars.isTaskBasedTable;\n})()\n"},"label":"Non-Task based table"},{"id":"b61cb7e371774fbaa4252e3fe0230e75","edgeType":"Edge","source":"1ad067c7073b4a508d69d4c6541d6360","target":"2926bdb7d95d43739e4354c09e45f71b","sourcePort":"","targetPort":""},{"id":"a5c3de9c3abe4f9eb4723bac474a249a","edgeType":"Branch","source":"3a2b2f0edb324b48ba3814fe71844acd","target":"fe724f3e88d44a738838359516dd2dee","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n    return (vaVars.is_conversational || vaInputs.is_conversational);\n})()\n"},"label":"Is Supported"},{"id":"d2b26136b61a4ce499725c67ca0f0c41","edgeType":"Edge","source":"6a4bd72cee624815808fed939adf8674","target":"367db5db53224cef95a5b85183ca0ccb","sourcePort":"","targetPort":""},{"id":"cbaff52df8734ad89ade2c11f079c503","edgeType":"Edge","source":"367db5db53224cef95a5b85183ca0ccb","target":"e23f8460fbf74cdbaa16ac6ac4eb733b","sourcePort":"","targetPort":""},{"id":"b7f3cb197b11497a9e06999c84f8c9fe","edgeType":"Edge","source":"fe724f3e88d44a738838359516dd2dee","target":"1e664e67614946a7a43e8f2e209bdd3c","sourcePort":"","targetPort":""},{"id":"c54aabcf68414bc7a1e80e73cb80fe0a","edgeType":"Edge","source":"1e664e67614946a7a43e8f2e209bdd3c","target":"871ea778dba1439a84d4bab99cb20d2c","sourcePort":"","targetPort":""}]}}}</graph>
        <key_phrases>Submit a Request,Submit a request (Template),Submit a request,request,buy,item,catalog,purchase,order,computer,phone,need,require,order software,install software,request software</key_phrases>
        <library>false</library>
        <live_agent>false</live_agent>
        <name>Submit a Request</name>
        <nlu_intent/>
        <nlu_intent_label/>
        <nlu_model/>
        <nlu_model_label/>
        <nlu_provider/>
        <palette_label/>
        <roles/>
        <secure_custom_input_control>false</secure_custom_input_control>
        <source_topic_id>375155b0db3453005dd0dfea5e961934</source_topic_id>
        <sys_class_name>sys_cb_topic</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-10-04 16:39:52</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_id>85af7c9e97d61110f07bdb24a253af10</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>Submit a Request</sys_name>
        <sys_package display_value="NeedIt" source="x_58872_needit">6ead8e780f603200cd674f8ce1050ed1</sys_package>
        <sys_policy/>
        <sys_scope display_value="NeedIt">6ead8e780f603200cd674f8ce1050ed1</sys_scope>
        <sys_update_name>sys_cb_topic_85af7c9e97d61110f07bdb24a253af10</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-10-04 16:39:52</sys_updated_on>
        <triggerable_by_notification>false</triggerable_by_notification>
        <type>STANDARD</type>
        <variables/>
    </sys_cb_topic>
    <sys_variable_value action="delete_multiple" query="document_key=85af7c9e97d61110f07bdb24a253af10"/>
</record_update>
